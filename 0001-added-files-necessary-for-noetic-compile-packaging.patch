From 4a59a47afda7ee6ca296dcbfdf0454dbfa133979 Mon Sep 17 00:00:00 2001
From: Dave Feil-Seifer <david.feilseifer@gmail.com>
Date: Tue, 2 Mar 2021 00:48:48 -0800
Subject: [PATCH] added files necessary for noetic compile/packaging

---
 CMakeLists.txt  |  6 ++++++
 EMLConfig.cmake | 22 ++++++++++++++++++++++
 2 files changed, 28 insertions(+)
 create mode 100644 CMakeLists.txt
 create mode 100644 EMLConfig.cmake

diff --git a/CMakeLists.txt b/CMakeLists.txt
new file mode 100644
index 0000000..03f3666
--- /dev/null
+++ b/CMakeLists.txt
@@ -0,0 +1,6 @@
+cmake_minimum_required(VERSION 2.8.3)
+
+add_subdirectory(eml-svn)
+
+install( FILES package.xml EMLConfig.cmake DESTINATION share/eml )
+
diff --git a/EMLConfig.cmake b/EMLConfig.cmake
new file mode 100644
index 0000000..4674b83
--- /dev/null
+++ b/EMLConfig.cmake
@@ -0,0 +1,22 @@
+# - Try to find EML
+# Once done this will define
+#  EML_FOUND - System has EML
+#  EML_INCLUDE_DIRS - The EML include directories
+#  EML_LIBRARIES - The libraries needed to use EML
+#  EML_DEFINITIONS - Compiler switches required for using EML
+
+find_path(EML_INCLUDE_DIR al/ethercat_master.h)
+
+find_library(EML_LIBRARY NAMES eml)
+
+set(EML_LIBRARIES ${EML_LIBRARY} )
+set(EML_INCLUDE_DIRS ${EML_INCLUDE_DIR} )
+
+include(FindPackageHandleStandardArgs)
+# handle the QUIETLY and REQUIRED arguments and set EML_FOUND to TRUE
+# if all listed variables are TRUE
+find_package_handle_standard_args(EML  DEFAULT_MSG
+   EML_LIBRARY EML_INCLUDE_DIR)
+
+mark_as_advanced(EML_INCLUDE_DIR EML_LIBRARY )
+
-- 
2.25.1

